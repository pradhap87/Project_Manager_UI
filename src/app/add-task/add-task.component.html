<div class="row">
  <h1 class="page-header">Add Task</h1>

</div>
<div class="row">
  <div class="col-lg-8" *ngIf ="projectData">
    <form name="AddTask" id="taskForm" novalidate>
      <div class='table-responsive' ng-app="">
        <table class="table table-bordered">
          <tr>
            <th>Project</th>
            <td>              
              <select [(ngModel)]="Project_ID" name="Manager" class="form-control" required>
                <option *ngFor="let item of projectData" [ngValue]="item.Project_ID">{{item.Project1}} </option>
              </select>

            </td>
          </tr>
          <tr>
          <th rowspan="2">Task</th>
          <td>
              <input type="text" [(ngModel)]="taskDescription" class="form-control" name="taskDescription" required
              placeholder="Task Description">
          </td>
        </tr>       
          <tr>
            <td>
          <tr>
            <td>Start date</td>
            <td>End date</td>
           
          </tr>
          <tr>
            <td>
              <input type="date" [(ngModel)]="startDate" class="form-control" name="Start_Date" required [disabled]="paerntTask">
            </td>
            <td>
              <input type="date" [(ngModel)]="endDate" class="form-control" name="End_Date" required [disabled]="paerntTask">
            </td>
            <td></td>
            <td> Parent Task :  </td>
            <td> <input type="checkbox" class="checkbox" [(ngModel)]="paerntTask" name="paerntTask" ></td>
          </tr>

          </td>
          </tr>
          <tr>
              <td>Parent Task</td>
              <td>
                  <select [(ngModel)]="Parent_ID" name="parenttask" class="form-control" required [disabled]="paerntTask">
                      <option *ngFor="let item of parentTaskData" [ngValue]="item.Parent_ID">{{item.Parent_Task}} </option>
                    </select>
              </td>
            </tr>
          <tr>
            <th>Priority</th>
            <td item-width="100%">
          <tr>
            <td>0</td>
            <td>30</td>
          </tr>
          <tr>
            <td>
              <input id="Priority" type="range" min="0" max="30" [(ngModel)]="taskPriority" class="form-control" name="Priority"
                required [disabled]="paerntTask">
            </td>
          </tr>

          </td>
          </tr> 
          <tr>
            <td colspan="2" class="text-center"><button id="btnAddTask" type="submit" (click)='AddTask()' class="btn btn-default">Add
                Task</button> | <button id="btnReset" type="submit" class="btn btn-default" (click)="reset()">Reset</button></td>
          </tr>
        </table>
      </div>
    </form>
    <div *ngIf="responseData === true;">
      <div class="alert alert-success alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button> New Task added
        successfully !!!
      </div>
    </div>
    <div *ngIf="validation === false;">
      <div class="alert alert-danger alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button> All fields are mandatory
      </div>
    </div>

  </div>
</div>

<div class="row" *ngIf ="!projectData">
  <div class="alert alert-info alert-dismissable">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button> Please wait Loading the Task Data
    </div>
    <div class="alert alert-info alert-dismissable">
        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button> If it's taking long time then there is no Project Avalable in the system.
      </div>
</div>
<div *ngIf="dateValidation === false;">
    <div class="alert alert-danger alert-dismissable">
      <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button> End Date must be greater than or equal to Start Date
    </div>
  </div>